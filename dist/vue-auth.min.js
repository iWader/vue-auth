/*!
 * vue-auth v1.0.0-alpha.1
 * (c) 2016 Wade Urry
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.VueAuth=t()}(this,function(){"use strict";function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,r){t.installed||(r=r||{},e.auth={storagePrefix:r.storagePrefix||"_auth.",redirectType:r.redirectType||"router",authPath:r.authPath||"/login",userData:void 0,getStorageKey:function(e){return this.storagePrefix+e},setUserData:function(e){return this.userData=e,localStorage.setItem(this.getStorageKey("user"),JSON.stringify(e))},getUserData:function(){return JSON.parse(localStorage.getItem(this.getStorageKey("user")))},setToken:function(e){return localStorage.setItem(this.getStorageKey("token"),e)},getToken:function(){return localStorage.getItem(this.getStorageKey("token"))},removeToken:function(){return localStorage.removeItem(this.getStorageKey("token"))},hasToken:function(){return null!==this.getToken()},isAuthenticated:function(){return!n.isExpired(this.getToken())},installInterceptor:function(t){var r=this;if("undefined"==typeof e.http)throw new Error("Please install vue-resource before attempting to install the interceptor.");return function(e,n){e.headers.Authorization="Bearer "+r.getToken(),n(function(e){return 401===e.status&&(t.$auth.setToken(void 0),"browser"===t.$auth.redirectType?window.location.href=t.$auth.authPath:t.$router.go(t.$auth.authPath)),e})}}},Object.defineProperties(e.prototype,{$auth:{get:function(){return e.auth}}}))}var r=e(function(e,t){!function(){function e(e){this.message=e}var r="undefined"!=typeof t?t:self,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.prototype=new Error,e.prototype.name="InvalidCharacterError",r.btoa||(r.btoa=function(t){for(var r,o,a=String(t),i=0,u=n,s="";a.charAt(0|i)||(u="=",i%1);s+=u.charAt(63&r>>8-i%1*8)){if(o=a.charCodeAt(i+=.75),o>255)throw new e("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return s}),r.atob||(r.atob=function(t){var r=String(t).replace(/=+$/,"");if(r.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,a,i=0,u=0,s="";a=r.charAt(u++);~a&&(o=i%4?64*o+a:a,i++%4)?s+=String.fromCharCode(255&o>>(-2*i&6)):0)a=n.indexOf(a);return s})}()}),n={decode:function(e){var t=e.split("."),n=t[1].replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="="}return JSON.parse(decodeURIComponent(r.atob(n)))},getDeadline:function(e){var t=this.decode(e);if("undefined"==typeof t.exp)return null;var r=new Date(0);return r.setUTCSeconds(t.exp),r},isExpired:function(e){var t=this.getDeadline(e);if(null===t)return!1;var r=new Date;return t.valueOf()<=r.valueOf()}};return"undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});